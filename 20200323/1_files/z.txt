!function(e,t){function n(){return this.options=o.extend({},arguments[0]),this.status="normal",["m","pc","mip"].indexOf(this.options.terminal?this.options.terminal.toLowerCase():"")<0&&(console.warn("terminal is not a validate terminal."),this.status="error"),o.h(this.options.site)||(console.warn("site should be required!"),this.status="error"),o.h(this.options.buz)||(console.warn("buz should be required!"),this.status="error"),this.init.apply(this,arguments)}var i=Array.prototype,r=i.slice;i.forEach||(i.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;i<o;){var a;i in r&&(a=r[i],e.call(n,a,i,r)),i++}}),i.indexOf||(i.indexOf=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return-1;var r=+t||0;if(Math.abs(r)===1/0&&(r=0),r>=i)return-1;for(var o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;){if(o in n&&n[o]===e)return o;o++}return-1}),i.isArray||(i.isArray=function(e){return"[object Array]"==={}.toString.call(e)});try{r.call(t.documentElement)}catch(e){[].slice=function(e,t){if(t=void 0!==t?t:this.length,"[object Array]"==={}.toString.call(this))return r.call(this,e,t);var n,i,o=[],a=this.length,s=e||0;s=s>=0?s:Math.max(0,a+s);var c="number"==typeof t?Math.min(t,a):a;if(t<0&&(c=a+t),(i=c-s)>0)if(o=new Array(i),this.charAt)for(n=0;n<i;n++)o[n]=this.charAt(s+n);else for(n=0;n<i;n++)o[n]=this[s+n];return o}}var o=function(){var n={};return n.g=function(e){for(var t in e)return!1;return!0},n.h=function(e){return"string"==typeof e&&""!==e},n.i=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},n.j=function(e){var t={}.toString,n={}.hasOwnProperty,i=e&&"object"==typeof e&&"setInterval"in e,r="[object Object]"===t.call(e);if(!e||!r||e.nodeType||i)return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var o;for(o in e);return void 0===o||n.call(e,o)},n.k=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.l=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},n.extend=function(){var e,t,i,r,o,a,s=!1,c=arguments.length,l=1,p=arguments[0]||{};for("boolean"==typeof p&&(s=p,p=arguments[l]||{},l++),"object"==typeof p||n.k(p)||(p={});l<c;l++)if(null!==(t=arguments[l]))for(e in t)i=p[e],r=t[e],p!==r&&(s&&r&&(n.j(r)||(a=Array.isArray(r)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n.j(i)?i:{},p[e]=n.extend(s,o,r)):void 0!==r&&(p[e]=r));return p},n.m=function(e){var t=[];return e=e||{},n.i(e,function(e,n){t.push(e+"="+n)}),t.join("&")},n.q=function(n,i){var r=t.createElement("script"),o=t.getElementsByTagName("head")[0],a="_jsonp"+ +new Date;n=n+"&callback="+a,r.charset="utf-8",e[a]=function(t){e[a]=null,i&&"function"==typeof i&&i(t)},r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r.parentNode&&r.parentNode.removeChild(r),r.onload=r.onreadystatechange=null)},r.src=n,o.appendChild(r)},n.s=function(e){var n,i,r=String(t.cookie),o=new RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)");return this.h(e)&&(i=r.match(o),n=i&&i[1]?unescape(i[1]):""),n},n.u=function(e,n,i,r,o,a){var s="",c=i;"number"==typeof c&&(c=new Date((new Date).getTime()+864e5*i)),c instanceof Date&&(s+="; expires="+c.toUTCString()),this.h(r)&&(s+="; domain="+r),this.h(o)?s+="; path="+o:s+="; path=/",a&&(s+="; secure"),t.cookie=e+"="+escape(n)+s},n.v=function(e,t,n,i){this.u(e,"",-1,t,n,i)},n.A=function(){var t="",n=e.location.hostname,i=n.replace(/\.(com|net|org|gov|edu|cn$)\.?.*/,"");return i.lastIndexOf(".")<0?t="."+n:(i=i.substring(i.lastIndexOf(".")),t=n.substring(n.lastIndexOf(i))),t},n.B=function(t){var n="";if(t=e.decodeURIComponent(t),/^(\w+:)?\/\//.test(t)){var i=t.split("/"),r=i[2],o=r.replace(/\.(com|net|org|gov|edu|cn$)\.?.*/,"");-1===o.lastIndexOf(".")?r="."+r:(o=o.substring(o.lastIndexOf(".")),n=r.substring(r.lastIndexOf(o)))}return n},n.C=function(){var t=["m.zol.com","m.zol.com.cn","wap.zol.com.cn","app.zol.com.cn","lib.wap.zol.com.cn"],n=e.location.hostname;return t.indexOf(n)>-1},n.D=function(e){(new Image).src=e},n.F=function(n,i,r){arguments.length<3&&(n=e,i=arguments[0],r=arguments[1]),t.attachEvent?n.attachEvent("on"+i,r):t.addEventListener&&n.addEventListener(i,r,!1)},n.G=function(n){return n.getBoundingClientRect().bottom<=(e.innerHeight||t.documentElement.clientHeight)},n.H=function(e){var n,i,r=[];if(t.querySelectorAll){n=t.querySelectorAll("["+e+"]"),i=n.length;for(var o=0;o<i;o++)r.push(n[o]);return r}var a=arguments[1]||t;for(n=a.getElementsByTagName("*"),i=n.length;--i>=0;){var s=n[i];"string"==typeof s.getAttribute(e)&&r.push(s)}return r},n}(),a={init:function(t){this.I(function(){"mip"!==t&&e._zqa_.start(t)})},I:function(e){var n=t.createElement("script"),i=t.getElementsByTagName("head")[0];n.charset="utf-8",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n.parentNode&&n.parentNode.removeChild(n),n.onload=n.onreadystatechange=null,e&&"function"==typeof e&&e())},n.src="//js.zol.com.cn/pvn/qa.min.js",i.appendChild(n)}},s=function(){var n=["scroll","keyup","mousemove","visibilitychange","popstate"],i=["touchstart","pageshow","pagehide"],r=0,a=[],s={J:function(t){var n={};return t.pv.t&&(n.t1=t.pv.t),t.pv.ns&&(n.ns=t.pv.ns),t.pv.ns&&(n.pagetype=t.pv.pagetype),t.pv.ipck&&(n.ipck=t.pv.ipck),/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(n.appversion=t.all.appversion,n.imei=t.all.imei,n.ssid=t.all.ssid,n.os=t.all.os),n},K:function(e,n,i){var r={};"a"===n&&("visibilitychange"===i.L?r.e=t.visibilityState:r.e=i.L),r.t="a"===n?i.time:+new Date;var a=s.J(e);if(r=o.extend(r,a),"e"===n&&(r.type=i.M.type,r.eventName=i.M.name,i.M.extra&&!o.g(i.M.extra))){var c={};o.i(i.M.extra,function(e,t){c["_"+e]=t}),r=o.extend(r,c)}if(("a"!==n||"a"===n&&"click"===i.L)&&(e.xpath&&(r.xpath=e.xpath),e.position&&(r.pos=e.position),e.link&&(r.link=e.link)),"a"===n){r.vh=Math.ceil(this.N().height);var l=this.O();r.sh=Math.ceil(l),r.screen=e.screen}e.pv.url&&(r.url=e.pv.url);var p=o.m(r);return"a"===n&&e.baseUrl.a&&(p=e.baseUrl.a+"?"+p),"o"===n&&e.baseUrl.o&&(p=e.baseUrl.o+"?"+p),"e"===n&&e.baseUrl.e&&(p=e.baseUrl.e+"?"+p),p},P:function(e,t){var n=a.indexOf(e)>-1,i=+new Date,c=i-r;if(!n||c>=1e4){"visibilitychange"!==e&&"click"!==e&&a.push(e),r=i;var l=s.K(t,"a",{L:e,time:i});o.D(l)}},R:function(e,t){var n=this.K(t,"e",{M:e});o.D(n)},S:function(e){var t=this.K(e,"o");o.D(t)},T:function(e,t){var n={};n.t=+new Date;var i=s.J(t);if(n=o.extend(n,i),n.event=e.name,t.position){var r=t.position.split(",");n.ox=r[0],n.oy=r[1]}if(e.extra&&!o.g(e.extra)){var a={};o.i(e.extra,function(e,t){a["_"+e]=t}),n=o.extend(n,a)}t.pv.url&&(n.url=t.pv.url);var c="//impa.zol.com.cn/?"+o.m(n);o.D(c)},U:function(t,n){var i,r,a={},c=t,l=c.tagName.toLowerCase(),p=s.V(c);if("object"===l||"embed"===l)i=s.W(c);else if(p.index>0){c=p.X,i=s.W(c);var u=c.getAttribute("href");if(u.indexOf("#")>-1&&(u=u.slice(0,u.indexOf("#"))),u.indexOf("javascript:")<0&&""!==u){var v=o.B(u);if(o.h(v))r=u;else{var f=e.location;r=f.protocol+"//"+f.host+u}}}else i=s.Y(n);a.position=Math.ceil(i.x)+","+Math.ceil(i.y);var h=s.Z(c);return a.xpath=h,r&&(a.link=r),a},$:function(e){var t=o.B(e),n=o.A();return""!==t&&""!==n&&t!==n},_:function(n){var i=n.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(e.innerHeight||t.documentElement.clientHeight)&&i.right<=(e.innerWidth||t.documentElement.clientWidth)},O:function(){var n=this.N(),i=e.pageYOffset||e.scrollY||t.documentElement.scrollTop||0;return n.height+i},N:function(){return{width:e.innerWidth||t.documentElement.clientWidth,height:e.innerHeight||t.documentElement.clientHeight}},Y:function(n){var i=n||e.event,r=t.documentElement.scrollLeft||t.body.scrollLeft,o=t.documentElement.scrollTop||t.body.scrollTop;return{x:i.pageX||i.clientX+r,y:i.pageY||i.clientY+o}},W:function(e){var n=t.documentElement.scrollLeft||t.body.scrollLeft,i=t.documentElement.scrollTop||t.body.scrollTop;return{x:e.getBoundingClientRect().left+n,y:e.getBoundingClientRect().top+i}},aa:function(e,t){for(var n=[],i=e.childNodes,r=i.length,o=0;o<r;o++)if(1===i[o].nodeType){var a=i[o].tagName.toLowerCase();a===t&&n.push(i[o])}return n},Z:function(e){for(var t=[];e&&1===e.nodeType;){if(e.id&&""!==e.id)return t.unshift('//*[@id="'+e.getAttribute("id")+'"]'),t.join("/");var n=1,i=e.tagName.toLowerCase(),r=this.aa(e.parentNode,i),o=r.length,a=i;if(o>1){for(var s=0;s<o;s++){if(r[s]===e)break;n++}a=a+"["+n+"]"}t.unshift(a),e=e.parentNode}return t.length?"/"+t.join("/"):null},V:function(e){for(var t=e,n=1,i=0;n<=5&&t;){var r=t.tagName;r&&("a"!==r.toLowerCase()?t=t.parentNode:i=n),n++}return{index:i,X:t}},H:function(e){return o.H(e)}};return{init:function(){var r=arguments[0]||{};n.forEach(function(n,i){var a=t;"scroll"!==n&&"popstate"!==n||(a=e),o.F(a,n,function(e){s.P(n,r)})}),o.F(t,"click",function(t){var n=t||e.event,i=n.target||n.srcElement,o=i.tagName.toLowerCase(),a=s.V(i);if("object"===o||"embed"===o||a.index>0){var c=s.U(i,n);r.position=c.position,r.xpath=c.xpath,r.link=c.link?e.encodeURIComponent(c.link):null,c.link&&s.$(c.link)&&s.S(r),s.P("click",r)}}),"ontouchend"in t&&i.forEach(function(n,i){var a=t;"pageshow"!==n&&"pagehide"!==n||(a=e),o.F(a,n,function(){s.P(n,r)})})},ba:function(t){var n=this;e._zpv_events=e._zpv_events||[],e._zpv_events.push=function(e){n.ca(e,t)}},ca:function(t,n){if(o.l(t.dom)){var i=t.dom?s.W(t.dom):null,r=t.dom?s.Z(t.dom):null;n.position=Math.ceil(i.x)+","+Math.ceil(i.y),n.xpath=r}"click"===t.type?o.F(t.dom,"click",function(){var i=s.U(t.dom);n.position=i.position,t.range&&t.range.indexOf("bms")>-1?s.T(t,n):(n.xpath=i.xpath,i.link&&(n.link=e.encodeURIComponent(i.link)),s.R(t,n))}):"hover"===t.type?o.F(t.dom,"mouseover",function(){s.R(t,n)}):"inview"===t.type?(t.dom.da=!1,s._(t.dom)&&(t.range&&t.range.indexOf("bms")>-1?s.T(t,n):s.R(t,n),t.dom.da=!0),o.F(e,"scroll",function(){var e=s._(t.dom),i=s.W(t.dom);n.position=Math.ceil(i.x)+","+Math.ceil(i.y),!t.dom.da&&e&&(t.range&&t.range.indexOf("bms")>-1?s.T(t,n):s.R(t,n),t.dom.da=!0)})):"load"===t.type&&("bms_placeholder"===t.range?s.T(t,n):s.R(t,n))},ea:function(e,t){var n=this,i=e||[];s.H("zpv-events-click").forEach(function(e,t){var n=e.getAttribute("zpv-events-click");i.push({dom:e,type:"click",name:n})}),s.H("zpv-events-hover").forEach(function(e,t){var n=e.getAttribute("zpv-events-hover");i.push({dom:e,type:"hover",name:n})}),s.H("zpv-events-inview").forEach(function(e,t){var n=e.getAttribute("zpv-events-inview");i.push({dom:e,type:"inview",name:n})}),i.forEach(function(e,i){n.ca(e,t)})},fa:function(e){e.link&&s.$(e.link)&&s.S(e)}}}();n.prototype={init:function(){var t=this,n=this.ga(),i=o.s("ip_ck"),r=Math.ceil((1e3*+new Date+Math.round(1e3*Math.random()))/1e9),c="//js.zol.com.cn/pvn/pv.ht?&t="+r+"&c="+i;o.q(c,function(i){if(i.writeIpckCookie){var r=o.A();o.u("ip_ck",i.ipck,3650,r)}n.uv=i.uv,n.se=i.se,n.ipck=i.ipck;var c=t.ha(),l=e.encodeURIComponent(e.location.href),p=o.extend(n,c,{url:l,ref:t.ia()}),u=t.ja(),v=o.m(p);t.ka()&&(v="type=iframe&"+v);var f=+new Date,h=u.p+"?t="+f+"&"+v;"error"===t.status&&(h=u.p+"?type=error&t="+f+"&"+v),o.D(h);var d={baseUrl:u,screen:c.screen,pv:{t:f,ns:p.ns,pagetype:p.pagetype,url:l,ipck:i.ipck},all:p};t.la=d,s.init(d),"mip"!==t.options.terminal&&(t.options.events=e._zpv_events||[]),s.ea(t.options.events,d),s.ba(d),a.init(t.options.terminal)})},sendCustomPageview:function(e,t,n,i){if(["scroll","click","page","pop","iframe"].indexOf(e)<0)return void console.warn(e+" is not a validate type!");var r=this.la;if(r.pv.t=+new Date,i&&!o.g(i)){var a={};o.i(i,function(e,t){a["_"+e]=t}),r.all=o.extend(r.all,a)}r.all.url=t,r.all.ref=n;var s=o.m(r.all),c=r.baseUrl.p+"?type="+e+"&t="+r.pv.t+"&"+s;o.D(c)},sendLinkoutEvent:function(t){if(!(t.indexOf("javascript:")>-1||""===n)){var n=t;t.indexOf("#")>-1&&(n=t.slice(0,t.indexOf("#")));var i=o.B(n);if(!o.h(i)){var r=e.location;n=r.protocol+"//"+r.host+n}var a=this.la;a.link=n?e.encodeURIComponent(n):null,s.fa(a)}},trackCustomInviewEvent:function(t,n){var i=o.H("zpv-custom-inview");n&&(n.length?i=i.concat([].slice.call(n)):i.push(n)),i.length&&"function"==typeof t&&i.forEach(function(n,i){o.G(n)&&"function"==typeof t&&(t(),n.da=!0),o.F(e,"scroll",function(){!n.da&&o.G(n)&&(t(),n.da=!0)})})},trackPveCustomEvent:function(t,n){var i={},r=this.la;if(i.t=+new Date,r.pv.t&&(i.t1=r.pv.t),r.pv.ipck&&(i.ip_ck=r.pv.ipck),i.event=t,/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(i.appversion=r.all.appversion,i.imei=r.all.imei,i.ssid=r.all.ssid,i.os=r.all.os),n&&!o.g(n)){var a={};o.i(n,function(e,t){a[e]=t}),i=o.extend(i,a)}r.pv.url&&(i.url=r.pv.url);var s=o.m(i);r.baseUrl.pve&&(s=r.baseUrl.pve+"?"+s),o.D(s)},trackCustomEvent:function(t,n,i){if(["click","hover","inview"].indexOf(t)<0)return void console.warn(t+" is not a validate type!");var r={},a=this.la;if(r.t=+new Date,a.pv.t&&(r.t1=a.pv.t),a.pv.ipck&&(r.ipck=a.pv.ipck),r.type=t,r.eventName=n,/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(r.appversion=a.all.appversion,r.imei=a.all.imei,r.ssid=a.all.ssid,r.os=a.all.os),i&&!o.g(i)){var s={};o.i(i,function(e,t){s["_"+e]=t}),r=o.extend(r,s)}a.pv.url&&(r.url=a.pv.url);var c=o.m(r);a.baseUrl.e&&(c=a.baseUrl.e+"?"+c),o.D(c)},ka:function(){return e.top.location!==e.self.location},ja:function(){var e="error"===this.status?o.C()?"wap":"pc":this.options.terminal;"m"===e&&(e="wap");var t="pvn"+e+".zol.com.cn",n="//"+t+"/i/";return{p:n+"p.gif",a:n+"a.gif",e:n+"e.gif",o:n+"o.gif",pve:"//pvtest.zol.com.cn/images/pvevents.gif"}},ga:function(){var t=this.options||{},n={},i="zol",r="*",a="*";t.site&&o.h(t.site)&&(i=t.site.toLowerCase()),t.buz&&o.h(t.buz)&&(r=t.buz),t.channel&&o.h(t.channel)&&(a=t.channel),n.ns=i+"."+r+"."+a,t.pagetype&&o.h(t.pagetype)&&(n.pagetype=t.pagetype);var s="";s=t.userCookieName&&""!==t.userCookieName?o.s(t.userCookieName):o.s("zol_userid"),n.uid=s;var c=o.A(),l=o.s("vn"),p=o.s("lv");isNaN(parseInt(l))&&(l=0),isNaN(parseInt(p))&&(p=0);var u=l,v=p;+new Date/1e3-p>7200&&(v=parseInt(+new Date/1e3),u++,o.u("lv",v,365,c),o.u("vn",u,365,c)),n.vn=u,n.lv=v;var f=e.navigator.userAgent;if(/(zol)|(shopApp)/i.test(f)){var h=/\sZOL\/([\d.]+)/i.test(f)&&RegExp.$1||"";h=o.h(h)?parseInt(h.replace(/\./g,""),10):700;var d=/.*(\bimei[=\/](\S+)\b)/i.test(f)&&RegExp.$2||e.ma||"";d="0"===d?"":d;var m=/.*(\bssid[=\/](\S+)\b)/i.test(f)&&RegExp.$2||"";m="0"===m?"":m;var g="unknown";/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(f)?g="ios":/A(ndroid|dr)/.test(f)&&(g="android"),n.appversion=h,n.imei=d,n.ssid=m,n.os=g}return n},ha:function(){var t={},n=e.screen.width+"x"+e.screen.height;t.screen=n,t.dpr=e.devicePixelRatio;var i={};return o.i(this.options.custom,function(e,t){i["_"+e]=t}),t=o.extend(t,i)},na:function(t){var n="";if(t.indexOf("ref0")>-1){var i=/(?:&|\?)ref0=([\s\S]*?)$/i;n=t.match(i),n=e.decodeURIComponent(n[1])}return n},ia:function(){var n="";if(e.top.location===e.self.location){var i=o.s("PC2MRealRef");if(e._zpv_document_refer&&""!==e._zpv_document_refer)n=e._zpv_document_refer;else if(""!==i){n=i;var r=o.A();o.v("PC2MRealRef",r,"/")}else n=t.referrer}else{var a=t.referrer+"";n=this.na(a),n=""!==n?n:t.referrer}return n=n.replace(/</g,"").replace(/>/g,""),e.encodeURIComponent(n)}},e._zpv_=new n(e._zpv_cfg)}(this,document);